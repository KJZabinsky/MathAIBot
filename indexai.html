<!DOCTYPE html>
<html>
<head>
  <title>Answering Bot</title>
  <style>
    :root {
      --text-color: #333;
      --bg-color: #f7f7f7;
      --bot-bg-color: #efefef;
      --user-bg-color: #d7f1e8;
      --input-bg-color: white;
      --input-text-color: #333;
      --input-font-size: 14px;
    }

    body {
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
      background-color: var(--bg-color);
    }

    .chat-container {
      width: 100%;
      height: 100vh;
      display: flex;
      flex-direction: row;
    }

    .chat-content {
      flex-grow: 1;
      overflow-y: auto;
      padding: 20px;
    }

    .chat-message {
      margin: 10px 0;
      padding: 10px;
      border-radius: 5px;
    }

    .user-message {
      text-align: right;
      background-color: var(--user-bg-color);
      color: var(--text-color);
    }

    .bot-message {
      text-align: left;
      background-color: var(--bot-bg-color);
      color: var(--text-color);
    }

    .user-input-container {
      width: 300px;
      padding: 20px;
      background-color: var(--bg-color);
      display: flex;
      flex-direction: column;
    }

    textarea {
      width: 100%;
      height: 60px;
      resize: none;
      padding: 10px;
      margin-top: 10px;
      border: 1px solid #ccc;
      border-radius: 4px;
      box-sizing: border-box;
      font-size: var(--input-font-size);
      background-color: var(--input-bg-color);
      color: var(--input-text-color);
    }

    button {
      padding: 10px;
      margin-top: 10px;
      background-color: #4CAF50;
      border: none;
      color: white;
      border-radius: 4px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div class="chat-container">
    <div class="chat-content" id="chat-content">
      <p class="bot-message">AI Bot: Hi! How can I assist you today?</p>
    </div>
    <div class="user-input-container">
      <h3>Chat Settings</h3>
      <label for="text-color">Text Color:</label>
      <input type="color" id="text-color" value="#333">

      <label for="bg-color">Background Color:</label>
      <input type="color" id="bg-color" value="#f7f7f7">

      <label for="input-bg-color">Input Background Color:</label>
      <input type="color" id="input-bg-color" value="white">

      <label for="input-text-color">Input Text Color:</label>
      <input type="color" id="input-text-color" value="#333">

      <label for="input-font-size">Input Text Size:</label>
      <input type="number" id="input-font-size" min="10" max="30" value="14">

      <textarea id="user-input" placeholder="Enter your message..." autofocus></textarea>
      <button id="send-button">Send</button>
    </div>

    <script>
      const chatContent = document.getElementById('chat-content');
      const userInput = document.getElementById('user-input');
      const sendButton = document.getElementById('send-button');

      sendButton.addEventListener('click', handleUserInput);

      userInput.addEventListener('keypress', function (e) {
        if (e.key === 'Enter') {
          handleUserInput();
        }
      });

      function handleUserInput() {
        const message = userInput.value.trim();

        if (message === '') {
          return;
        }

        const userMessage = createUserMessageElement(message);
        chatContent.appendChild(userMessage);
        scrollToBottom();

        let response = getResponse(message);

        const botMessage = createBotMessageElement(response);
        chatContent.appendChild(botMessage);
        scrollToBottom();

        userInput.value = '';
      }

      function createUserMessageElement(message) {
        const userMessage = document.createElement('p');
        userMessage.className = 'chat-message user-message';
        userMessage.textContent = message;
        return userMessage;
      }

      function createBotMessageElement(message) {
        const botMessage = document.createElement('p');
        botMessage.className = 'chat-message bot-message';
        botMessage.textContent = 'AI Bot: ' + message;
        return botMessage;
      }

      function scrollToBottom() {
        chatContent.scrollTop = chatContent.scrollHeight;
      }

      function getResponse(message) {
        if (message.toLowerCase().includes('hello') || message.toLowerCase().includes('hi')) {
          return "Hello!";
        } else if (message.toLowerCase().includes('thanks') || message.toLowerCase().includes('thank you')) {
          return "You're welcome!";
        } else if (message.toLowerCase().includes('what is your name')) {
          return "My name is AI Bot.";
        } else if (message.toLowerCase().includes('whoami')) {
          return "Your name is " + (userName || "unknown") + ".";
        } else if (message.toLowerCase().includes('what is a variable')) {
          return "In mathematics, a variable is a symbol or letter used to represent an unknown value or quantity.";
        } else if (message.toLowerCase().includes('what does y=mx+b mean')) {
          return "The equation y = mx + b represents a linear equation in the slope-intercept form, where:\n- m is the slope of the line\n- b is the y-intercept (the point where the line intersects the y-axis)\n- x and y are the variables representing the coordinates of any point on the line.";
        } else if (message.match(/[+\-*/]/)) {
          try {
            const result = eval(message);
            return "The answer is: " + result;
          } catch (error) {
            return "Invalid math expression.";
          }
        } else if (message.toLowerCase().includes('square root')) {
          const number = parseInt(message.replace(/\D/g, ''));
          if (!isNaN(number)) {
            const sqrt = Math.sqrt(number);
            return "The square root of " + number + " is " + sqrt;
          } else {
            return "Invalid input for square root calculation.";
          }
        } else if (message.toLowerCase().includes('power of')) {
          const parts = message.split('power of');
          if (parts.length === 2) {
            const base = parseInt(parts[0].replace(/\D/g, ''));
            const exponent = parseInt(parts[1].replace(/\D/g, ''));
            if (!isNaN(base) && !isNaN(exponent)) {
              const result = Math.pow(base, exponent);
              return base + " raised to the power of " + exponent + " is " + result;
            }
          }
          return "Invalid input for power calculation.";
        } else if (message.toLowerCase().includes('word related')) {
          return "Word related questions refer to queries about the meaning, usage, or definition of specific words or terms. If you have any word-related questions, feel free to ask!";
        } else {
          return "I'm sorry, I don't understand. Can you please rephrase or ask a different question?";
        }
      }

      function applyChatSettings() {
        const textColor = document.getElementById('text-color').value;
        const bgColor = document.getElementById('bg-color').value;
        const inputBgColor = document.getElementById('input-bg-color').value;
        const inputTextColor = document.getElementById('input-text-color').value;
        const inputFontSize = document.getElementById('input-font-size').value + 'px';

        document.documentElement.style.setProperty('--text-color', textColor);
        document.documentElement.style.setProperty('--bg-color', bgColor);
        document.documentElement.style.setProperty('--bot-bg-color', bgColor);
        document.documentElement.style.setProperty('--user-bg-color', bgColor);
        document.documentElement.style.setProperty('--input-bg-color', inputBgColor);
        document.documentElement.style.setProperty('--input-text-color', inputTextColor);
        document.documentElement.style.setProperty('--input-font-size', inputFontSize);

        const chatContainer = document.querySelector('.chat-container');
        const userInputContainer = document.querySelector('.user-input-container');
        const chatMessages = document.getElementsByClassName('chat-message');

        chatContainer.style.backgroundColor = bgColor;
        userInputContainer.style.backgroundColor = inputBgColor;
        userInputContainer.style.color = inputTextColor;
        userInputContainer.style.fontSize = inputFontSize;
        Array.from(chatMessages).forEach((message) => {
          message.style.color = textColor;
        });

        scrollToBottom();
      }

      window.addEventListener('load', scrollToBottom);
    </script>
  </div>
</body>
</html>
